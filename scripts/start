#!/bin/bash
set -e

# Ejecutar el entrypoint para preparar la aplicaci칩n (migraciones, est치ticos, etc.)
sh ./scripts/entrypoint.sh

export DJANGO_SETTINGS_MODULE=app.config.settings.local

# Comprobar el entorno (desarrollo o producci칩n)
if [ "$DJANGO_ENV" = "production" ]; then
    # Iniciar Gunicorn en producci칩n
    exec gunicorn app.wsgi:application --bind 0.0.0.0:8000
else
    # Usar runserver en desarrollo
    exec python manage.py runserver 0.0.0.0:8000
fi
